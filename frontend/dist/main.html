<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/PEPEDAWN_thumbnail.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PEPEDAWN</title>
    <script type="module" crossorigin src="/assets/main-DynQT08j.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/main-BTt6PrtY.css">
  </head>
  <body>
    <div id="app">
      <header>
        <h1>PEPEDAWN</h1>
        <nav>
          <a href="/">Home</a>
          <a href="/main.html" class="active">Ticket Office</a>
          <a href="/rules.html">Rules</a>
        </nav>
      </header>

      <main>
        <section id="wallet-section">
          <button id="connect-wallet">Connect Wallet</button>
          <div id="wallet-info" style="display: none;">
            <div class="wallet-details">
              <span class="wallet-address" id="wallet-address-display"></span>
              <span class="wallet-balance">Balance: <span id="wallet-balance"></span> ETH</span>
            </div>
          </div>
        </section>

        <section id="round-status">
          <h2>Current Round<span id="round-number"></span></h2>
          <div id="round-info">
            <div class="status-column">
              <div class="status-item" data-status="0">
                <span class="status-icon">üöÄ</span>
                <span class="status-text">Created</span>
              </div>
              <div class="status-item" data-status="1">
                <span class="status-icon">üéØ</span>
                <span class="status-text">Open</span>
              </div>
              <div class="status-item" data-status="2">
                <span class="status-icon">üîí</span>
                <span class="status-text">Closed</span>
              </div>
              <div class="status-item" data-status="3">
                <span class="status-icon">üì∏</span>
                <span class="status-text">Snapshot</span>
              </div>
              <div class="status-item" data-status="4">
                <span class="status-icon">üé≤</span>
                <span class="status-text">VRF Requested</span>
              </div>
              <div class="status-item" data-status="5">
                <span class="status-icon">üéÅ</span>
                <span class="status-text">Distributed</span>
              </div>
            </div>
            <div class="info-column">
              <div class="info-item">
                <span class="info-icon">‚è∞</span>
                <span class="info-text">Time Remaining</span>
                <span class="info-value" id="time-remaining">--</span>
              </div>
              <div class="info-item">
                <span class="info-icon">üé´</span>
                <span class="info-text">Total Tickets</span>
                <span class="info-value" id="total-tickets">--</span>
              </div>
            </div>
          </div>
        </section>

        <section id="betting-section">
          <h2>Place Your Bet</h2>
          <div id="betting-form">
            <div class="ticket-options">
              <button class="ticket-btn" data-tickets="1" data-amount="0.005">
                1 Ticket - 0.005 ETH
              </button>
              <button class="ticket-btn" data-tickets="5" data-amount="0.0225">
                5 Tickets - 0.0225 ETH (10% discount)
              </button>
              <button class="ticket-btn" data-tickets="10" data-amount="0.04">
                10 Tickets - 0.04 ETH (20% discount)
              </button>
            </div>
            <div id="bet-summary" style="display: none;">
              <p>Tickets: <span id="selected-tickets">0</span></p>
              <p>Amount: <span id="selected-amount">0</span> ETH</p>
              <p>Your Cap Remaining: <span id="cap-remaining">1.0</span> ETH</p>
              <button id="place-bet">Ticket Office</button>
            </div>
          </div>
        </section>

        <section id="proof-section">
          <h2 class="collapsible-header" onclick="toggleProofSection()">
            <span class="collapse-icon">‚ñº</span>
            Puzzle Proof Submission
          </h2>
          <div id="proof-form" class="collapsible-content" style="display: none;">
            <p>Submit one puzzle proof per round to get +40% weight multiplier</p>
            <textarea id="proof-input" placeholder="Paste your puzzle proof here..."></textarea>
            <button id="submit-proof">Submit Proof</button>
            <div id="proof-status"></div>
          </div>
        </section>

        <section id="progress-section">
          <h2>Round Progress</h2>
          <div class="progress-container">
            <div class="progress-bar">
              <div class="progress-fill" id="ticket-progress"></div>
              <p id="progress-text" class="progress-text">Loading...</p>
            </div>
            <p id="progress-warning" class="warning" style="display:none;">
              ‚ö†Ô∏è Round needs 10 tickets to distribute prizes. Otherwise, full refunds will be issued.
            </p>
          </div>
        </section>

        <section id="leaderboard">
          <h2>Live Leaderboard</h2>
          <div id="leaderboard-list">
            <p>Loading leaderboard...</p>
          </div>
        </section>

        <section id="status-panel">
          <h2>Your Status</h2>
          <div id="user-stats">
            <p>Your Tickets: <span id="user-tickets">0</span></p>
            <p>Your Weight: <span id="user-weight">0</span></p>
            <p>Proof Submitted: <span id="user-proof-status">No</span></p>
            <p>Winning Odds: <span id="user-fake-odds">0%</span></p>
          </div>
        </section>
      </main>
    </div>

  </body>
</html>
